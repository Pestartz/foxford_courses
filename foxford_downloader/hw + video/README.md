# Процесс скачивания

## Метод 1

_Сложность: средняя (для пользователей десктопов)_

1. [Скачиваем утилиту](https://mega.nz/#F!0AVFgC5D!dRcApLcLEJGE8Ry6UwJJ-w)

2. Распаковываем, запускаем `fdl` двойным кликом или через терминал.

3. Логинимся, жмем на нужный курс. Ничего не трогаем и ждем.

4. После завершения работы приложения появится папка `output`. В ней будет папка, соответствующая id выбранного курса. Внутри неё будут m3u8 файлы.

5. Скачиваем FFMpeg. [Mac](https://ffmpeg.zeranoe.com/builds/macos64/static/ffmpeg-4.1-macos64-static.zip) / [Windows x64](https://ffmpeg.zeranoe.com/builds/win64/static/ffmpeg-4.1-win64-static.zip) / [Windows x32](https://ffmpeg.zeranoe.com/builds/win32/static/ffmpeg-4.1-win32-static.zip) / [Linux](http://ffmpeg.org/download.html#build-linux). Распаковываем, ищем исполняемый файл `ffmpeg`. Перемещаем его в папку с m3u8.

6. Открываем терминал внутри папки с m3u8 и выполняем:

   ```bash
   ffmpeg -protocol_whitelist file,http,https,tcp,tls -i "нужный_плейлист.m3u8" -c copy -bsf:a aac_adtstoasc -preset superfast "желаемое_имя_файла.mp4"
   ```

7. Повторяем пункт 6 с каждым m3u8, который вы хотите скачать. Ждем завершения.

## Часто встречающиеся ошибки:

- `Любые сбои при скачивании видео`: Это значит, что Фоксфорд опять накосячил.

- `Ты`:

  - Не умеешь читать ошибки.
  - Не умеешь работать с терминалом.
  - Торопишь события. (Ничего не зависло, просто жди, заебал)
  - Ленив.

## Метод 2

_Сложность: легкая (для владельцев телефонов под управлением Android / любителей эмуляторов)_

1. Скачиваем приложение Фоксфорд.Курсы.

2. Логинимся, выбираем курс, жмем рядом с уроком кнопочку, как бы намекающую на "Скачать".

   2.5. Оставляем приложение включенным, загружаем по одному видео, не отключаем Wi-Fi и подключаем к розетке.

3. Ищем видео (.mp4) в Android/data/ru.foxford.courses, после чего перекидываем на ПК с использованием облачного диска или специального ПО (`adb pull [source] [dest]`).

# Чейнджлог (Крупные апдейты)

---

## 18.06.2017 (v1)

Реализована первая версия методом "проб и ошибок".

С помощью расширения (https://chrome.google.com/webstore/detail/network-sniffer/coblekblkacfilmgdghecpekhadldjfj) необходимо перехватить момент перехода к видео. Нажав на поле со ссылкой, соответствующей видео, откроется поле, где в Request Headers будет параметр Cookie.

В скрипт вводится 2 значения: адрес видео и куки. На выходе получается файл b64.html, в котором находится ссылка, при переходе по которой происходило перенаправление на плеер, выдающий mp4, который качался с помощью расширения (https://chrome.google.com/webstore/detail/video-downloader-pro/ilppkoakomgpcblpemgbloapenijdcho).

(Отдельное спасибо _Paravozik_Lesha_ за тестирование пре-релизной версии и терпение моего характера c: )

---

## 21.06.2017 (v2)

Реализована полу-автоматическая система.

Вбивается ссылка на видео и человека перенаправляет сразу в плеер, где с помощью нажатия "Сохранить как..." можно сохранить вебинар на диск (логично).

Примерно тогда же была реализована система сохранения ДЗ в оффлайн.

---

## 30.07.2017 (v3)

Реализована полная автоматика и какой-никакой интерфейс.

Все скрипты были объединены в один.

Перевод на русский язык (да-да, наканецта).

Загрузка курсов была переписана _Stanley Kowalski_. Пришлось много чинить, конечно, но это не отменяет моего "спасиба" за факт реализации "другим способом" и то, что именно он подтолкнул меня на объединение обоих скриптов.

---

## 05.08.2017 (v4)

Исправлено множество ошибок.

Разделение на модули для легкости починки.

Добавлено сохранение теории и ДЗ.

Объединение всех действий в единый оператор. За один проход теперь можно скачать весь материал полностью.

Сделан режим "только видео" и сортировка материала. (Отдельное спасибо _@kuzminovdmit_)

Добавлено возобновление загрузки на случай, если что-то пойдет не так, чтобы не ждать по-новой. Необходимо просто выбрать после перезапуска пункт меню, который выбирался до этого.

Создание файла "video.skips", содержащего число, приведет к пропуску видео на соответствующее число. (0 - Вводное занятие, 1 - Первое + Вводное ...)

---

## 25.12.2017 (v5)

Перенесен на Node.js. Прекращена поддержка автоматического создания скриншотов.

---

## 29.08.2018 (v5.5)

Скомпилирован. Проведена работа над дизайном.

---

_Current version_: v5.5-rstable2

---

Original idea + Releases: limitedeternity

Testing + Ideas: Stanley Kowalski / Paravozik_Lesha (v1-v3)

VideoDownloader(): Stanley Kowalski (v3)

(Специально для 2ch.hk/un/)
